{% extends 'main/base.html' %}
{% load static %}

    {% block head %}
    
    {% endblock %}


    {% block title %}
    
    {% endblock %}

    {% block content %}
 <!--    <div class="container">
        <div class="row">
            {% for course in courses %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <img src="{{ course.image_course.url }}" alt="{{ course.name }}" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">{{ course.name }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{ course.teacher.profile.name }}</h6>
                        <p class="card-text">{{ course.small_description }}</p>
                        <h6>Course Progress: {{ course.courseprogress.total_progress_percent }}%</h6>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" style="width: '{{ course.courseprogress.total_progress_percent }}%;'" aria-valuenow="{{ course.courseprogress.total_progress_percent }}" aria-valuemin="0" aria-valuemax="100">{{ course.courseprogress.total_progress_percent }}%</div>
                        </div>
                        <br>
                        <a href="{% url 'course_detail' course.id %}" class="btn btn-primary">View Full Course</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div> -->
    
    <div class="container">
        <div class="row">
            {% for course in courses %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card h-100 border-0 shadow-sm hover-shadow transition">
                    <div class="card-img-top overflow-hidden" style="height: 180px;">
                        <img src="{{ course.image_course.url }}" alt="{{ course.name }}" class="img-fluid w-100 h-100 object-fit-cover">
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title font-weight-bold text-dark mb-0">{{ course.name }}</h5>
                            <span class="badge bg-primary-light text-primary rounded-pill">New</span>
                        </div>
                        <h6 class="card-subtitle text-muted small mb-3">By {{ course.teacher.profile.name }}</h6>
                        <p class="card-text text-secondary mb-4">{{ course.small_description|truncatechars:100 }}</p>
                        
                        <div class="mb-3">
                            <div class="d-flex justify-content-between small mb-1">
                                <span class="text-dark">Progress</span>
                                <span class="font-weight-bold text-primary">{{ course.courseprogress.total_progress_percent }}%</span>
                            </div>
                            <div class="progress" style="height: 6px;">
                                <div class="progress-bar bg-gradient-primary" 
                                     role="progressbar" 
                                     style="width: '{{ course.courseprogress.total_progress_percent }}%'";
                                     aria-valuenow="{{ course.courseprogress.total_progress_percent }}" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        
                        <a href="{% url 'course_detail' course.id %}" class="btn btn-primary btn-block rounded-pill py-2">
                            Continue Learning <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <style>
        .hover-shadow {
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-shadow:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
        }
        .bg-primary-light {
            background-color: rgba(13,110,253,0.1);
        }
        .bg-gradient-primary {
            background-image: linear-gradient(to right, #4e54c8, #8f94fb);
        }
        .object-fit-cover {
            object-fit: cover;
        }
    </style>
    
    {% endblock %}
