{% extends 'main/base.html' %}
{% load static %}

{% block content %}
<div class="dashboard" dir="rtl"> 
  <div class="profile-header" style="background: linear-gradient(135deg, #1d3b53 0%, #2a5a7c 100%);">
  <div class="container py-4">
    <div class="row align-items-center">
      <div class="col-auto">
        <div class="profile-avatar shadow">
          <img src="{% static '/user/images/profile.png'%}" class="rounded-circle" width="120" height="120">
        </div>
      </div>
      <div class="col">
        <h1 class="text-white mb-1">{{ profile.name }}</h1>
        <div class="d-flex flex-wrap align-items-center gap-3">
          <span class="badge bg-light text-dark rounded-pill px-3 py-1">
            <i class="fas fa-graduation-cap me-1"></i> {{ student.department }}
          </span>
          <span class="text-white-50"><i class="fas fa-envelope me-1"></i> {{profile.email}}</span>
          <span class="text-white-50"><i class="fas fa-phone me-1"></i> {{profile.phone}}</span>
        </div>
      </div>
    </div>
  </div>
  </div>

  <div class="container my-4">
    <div class="row">
      <!-- Sidebar Navigation -->
      <div class="col-md-3 mb-4">
        <div class="card border-0 shadow-sm mb-3">
          <div class="card-header bg-white border-0 py-3">
            <h5 class="mb-0 text-primary"><i class="fas fa-user-circle me-2"></i> Profile</h5>
          </div>
          <div class="card-body p-0">
            <div class="list-group list-group-flush">
              <a href="{% url 'profile_detail' profile_id=request.user.profile.id %}" 
                class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <i class="fas fa-user text-muted me-2"></i> My Profile
              </a>
              <a href="{% url 'update_profile' %}" 
                class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <i class="fas fa-edit text-muted me-2"></i> Update Profile
              </a>
            </div>
          </div>
        </div>

        <div class="card border-0 shadow-sm">
          <div class="card-header bg-white border-0 py-3">
            <h5 class="mb-0 text-primary"><i class="fas fa-book-open me-2"></i> Courses</h5>
          </div>
          <div class="card-body p-0">
            <div class="list-group list-group-flush">
              {% if profile.status == 'Student' %}
                <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-graduation-cap text-muted me-2"></i> My Courses
                </a>
              {% elif profile.status == 'Teacher' %}
                <a href="{% url 'create_course' %}" 
                  class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-plus-circle text-muted me-2"></i> Create Course
                </a>
                <a href="{% url 'course' %}" 
                  class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-list-ul text-muted me-2"></i> My Courses
                </a>
                <a href="{% url 'analytic' %}" 
                  class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-chart-line text-muted me-2"></i> Analytics
                </a>
              {% elif profile.status == 'Organization' %}
                <a href="{% url 'make_teacher' %}" 
                  class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-user-plus text-muted me-2"></i> Assign Teacher
                </a>
                <a href="{% url 'teacher_list' %}" 
                  class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                  <i class="fas fa-users text-muted me-2"></i> Teacher List
                </a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      
      {% block dashboard_content %}{% endblock %}
    
    </div>
  </div>
</div>


<style>
  .profile-header {
    position: relative;
    overflow: hidden;
  }
  
  .profile-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') bottom center no-repeat;
    background-size: cover;
  }
  
  .profile-avatar {
    border: 4px solid white;
    transition: all 0.3s ease;
  }
  
  .profile-avatar:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  
  .course-card {
    transition: all 0.3s ease;
  }
  
  .course-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }
  
  .list-group-item-action:hover {
    background-color: #f8f9fa;
    color: #1d3b53 !important;
  }
</style>
{% endblock %}
